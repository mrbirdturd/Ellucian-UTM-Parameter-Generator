<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ellucian UTM Parameter Builder</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], select {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        #utm-urls {
            margin-top: 20px;
            padding: 10px;
            background: #f4f4f4;
            border: 1px solid #ddd;
        }
        .required-asterisk {
            color: red;
        }
        .required-note {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Ellucian UTM Parameter Builder</h1>
    <p class="required-note">Fields with a red asterisk (*) are required.</p>
    <form id="utm-form">
        <div class="form-group">
            <label for="base-url">Base URL <span class="required-asterisk">*</span></label>
            <input type="text" id="base-url" name="base-url" placeholder="e.g., ellucian.com" required>
        </div>
        <div class="form-group">
            <label for="utm-source">UTM Source <span class="required-asterisk">*</span></label>
            <select id="utm-source" name="utm_source" multiple required>
                <option value="">-- Select value --</option>
                <option value="6sense">6sense</option>
                <option value="aacrao">AACRAO</option>
                <option value="badge">Badge</option>
                <option value="blog">Blog</option>
                <option value="caubo">CAUBO</option>
                <option value="chronicle">Chronicle</option>
                <option value="consensusdemo">ConsensusDemo</option>
                <option value="customer-center">Customer Center</option>
                <option value="demandbase">Demandbase</option>
                <option value="demandscience">DemandScience</option>
                <option value="digital-insider">Digital Insider</option>
                <option value="educause">EDUCAUSE</option>
                <option value="ellucian.com">Ellucian.com</option>
                <option value="ellumination">Ellumination</option>
                <option value="encore">Encore</option>
                <option value="facebook">Facebook</option>
                <option value="google">Google</option>
                <option value="industry-drive">Industry Drive</option>
                <option value="insidescoop-newsletter">InsideScoop Newsletter</option>
                <option value="insider-higher-ed">Insider Higher Ed</option>
                <option value="instagram">Instagram</option>
                <option value="intentsify">Intentsify</option>
                <option value="itb">ITB</option>
                <option value="linkedin">LinkedIn</option>
                <option value="marketo">Marketo</option>
                <option value="marketolp">MarketoLP</option>
                <option value="mediaplanet">MediaPlanet</option>
                <option value="outlook">Outlook</option>
                <option value="on24">On24</option>
                <option value="pansoft">Pansoft</option>
                <option value="podcast">Podcast</option>
                <option value="postbeyond">PostBeyond</option>
                <option value="pureb2b">PureB2B</option>
                <option value="rev-enablement-newsletter">Rev Enablement Newsletter</option>
                <option value="sign">Sign</option>
                <option value="taqniyat">Taqniyat</option>
                <option value="unbounce">Unbounce</option>
                <option value="universitybusiness">UniversityBusiness</option>
                <option value="youtube">YouTube</option>
                <option value="lac-event">LAC Event</option>
                <option value="ucisa">UCISA</option>
                <option value="twitter">Twitter</option>
                <option value="HEUG">HEUG</option>
                <option value="Press Release">Press Release</option>
                <option value="Drift">Drift</option>
                <option value="Gong">Gong</option>
            </select>
        </div>
        <div class="form-group">
            <label for="utm-medium">UTM Medium <span class="required-asterisk">*</span></label>
            <select id="utm-medium" name="utm_medium" multiple required>
                <option value="">-- Select value --</option>
                <option value="social">Social</option>
                <option value="email">Email</option>
                <option value="cpc">CPC</option>
                <option value="display">Display</option>
                <option value="content_syndication">Content Syndication</option>
                <option value="retargeting">Retargeting</option>
                <option value="print">Print</option>
                <option value="qrcode">QR Code</option>
                <option value="sponsored-email">Sponsored Email</option>
                <option value="referral">Referral</option>
            </select>
        </div>
        <div class="form-group">
            <label for="utm-campaign">UTM Campaign <span class="required-asterisk">*</span></label>
            <input type="text" id="utm-campaign" name="utm_campaign" placeholder="Paste Salesforce Campaign Name here e.g 20240626 EU NTN AMOSSHE" required>
        </div>
        <div class="form-group">
            <label for="utm-campaignid">UTM Campaign ID <span class="required-asterisk">*</span></label>
            <input type="text" id="utm-campaignid" name="utm_campaignid" placeholder="e.g., 00vNu000005KKuBIAW" required>
        </div>
        <div class="form-group">
            <label for="utm-content">UTM Content</label>
            <input type="text" id="utm-content" name="utm_content" placeholder="e.g., elive24">
        </div>
        <button type="button" onclick="generateUTMs()">Generate UTM URLs</button>
        <button type="button" onclick="copyToClipboard()">Copy URL</button>
        <button type="button" onclick="exportToCSV()">Export to CSV</button>
    </form>
    <div id="utm-urls"></div>
    <div class="description">
        <h3>How to use the UTM Parameter Builder</h3>
        <ol>
            <li><strong>Base URL:</strong> Enter the base URL of your campaign.</li>
            <li><strong>UTM Source:</strong> Select one or multiple sources for your campaign.</li>
            <li><strong>UTM Medium:</strong> Select one or multiple mediums for your campaign.</li>
            <li><strong>UTM Campaign:</strong> Enter your campaign name. The field will automatically convert spaces to hyphens and capital letters to lowercase.</li>
            <li><strong>UTM Campaign ID:</strong> Enter the campaign ID.</li>
            <li><strong>UTM Content:</strong> Optionally, enter content information.</li>
            <li><strong>Generate URL:</strong> Click the "Generate UTM URL" button to generate the UTM URLs. If any required fields are left blank, the form will prompt you to fill them out and will not generate the UTM URLs until all required fields are complete.</li>
            <li><strong>Copy URL:</strong> Use the "Copy URL" button to copy the generated UTM URL to your clipboard for easy use in your campaigns.</li>
            <li><strong>Export to CSV:</strong> Use the "Export to CSV" button to download the generated UTM URLs as a CSV file.</li>
        </ol>
        <p>Note: If any required fields (indicated with a red asterisk *) are left blank, the form will prompt you to fill them out and will not generate the UTM URL until all required fields are complete.</p>
    </div>

    <script>
        function formatCampaignName(name) {
            return name.toLowerCase().replace(/\s+/g, '-');
        }

        function generateUTMs() {
            const baseurl = document.getElementById('base-url').value;
            const sources = Array.from(document.getElementById('utm-source').selectedOptions).map(option => option.value);
            const mediums = Array.from(document.getElementById('utm-medium').selectedOptions).map(option => option.value);
            const campaign = formatCampaignName(document.getElementById('utm-campaign').value);
            const campaignid = document.getElementById('utm-campaignid').value;
            const content = document.getElementById('utm-content').value;

            if (!baseurl || sources.length === 0 || mediums.length === 0 || !campaign || !campaignid) {
                alert("Please fill out all required fields.");
                return;
            }

            const urls = [];

            sources.forEach(source => {
                mediums.forEach(medium => {
                    let utmURL = `https://www.${encodeURIComponent(baseurl)}?utm_source=${encodeURIComponent(source)}&utm_medium=${encodeURIComponent(medium)}&utm_campaign=${encodeURIComponent(campaign)}&utm_campaignid=${encodeURIComponent(campaignid)}`;
                    if (content) {
                        utmURL += `&utm_content=${encodeURIComponent(content)}`;
                    }
                    urls.push(utmURL);
                });
            });

            document.getElementById('utm-urls').innerText = urls.join('\n');
        }

        function copyToClipboard() {
            const urlsText = document.getElementById('utm-urls').innerText;
            const tempTextarea = document.createElement('textarea');
            tempTextarea.value = urlsText;
            document.body.appendChild(tempTextarea);
            tempTextarea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextarea);
            alert('UTM URLs copied to clipboard');
        }

        function exportToCSV() {
            const urls = document.getElementById('utm-urls').innerText.split('\n');
            let csvContent = "data:text/csv;charset=utf-8," + urls.join("\n");
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "utm_urls.csv");
            document.body.appendChild(link);
            link.click();
        }
    </script>
</body>
</html>
